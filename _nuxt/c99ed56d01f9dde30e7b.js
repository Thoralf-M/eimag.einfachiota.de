(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{377:function(e,t,r){var content=r(386);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(59).default)("d6ea85bc",content,!0,{sourceMap:!1})},378:function(e,t,r){var content=r(388);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(59).default)("2e107364",content,!0,{sourceMap:!1})},385:function(e,t,r){"use strict";var o=r(377);r.n(o).a},386:function(e,t,r){(e.exports=r(58)(!1)).push([e.i,".form-footer{display:flex;justify-content:space-between;align-items:center;margin-top:50px}h3{font-size:72px;line-height:1}h5{margin:0;text-transform:uppercase;font-weight:800;opacity:.5;font-family:Roboto Slab,serif}.submit-btn{margin-bottom:0}",""])},387:function(e,t,r){"use strict";var o=r(378);r.n(o).a},388:function(e,t,r){t=e.exports=r(58)(!1);var o=r(211)(r(389));t.push([e.i,".el-main{padding:0!important}#home{text-align:left}p{font-size:1.2em;max-width:600px;margin:15px auto 30px}a{text-decoration:none}.info-box{display:flex;justify-content:center;align-items:center}.section{height:100vh}.section--light{background-color:var(--light)}.magazin-cover{height:100%;width:100%;background-image:url("+o+");background-size:cover;background-position:50%;box-shadow:0 0 10px rgba(0,0,0,.15)}.container{width:100%;display:flex}.column{width:50%;height:100vh;overflow-y:auto;box-sizing:border-box}.column.image{flex-grow:1;display:flex;justify-content:center;align-items:center}.column.box{background-color:var(--white);padding:100px 50px;max-width:600px;box-shadow:0 0 10px rgba(0,0,0,.15)}.headline-wrapper{padding:0;display:flex;justify-content:space-between;align-items:flex-start}::-webkit-scrollbar{width:10px}::-webkit-scrollbar-track{background:var(--light)}::-webkit-scrollbar-thumb{background-color:var(--primary_50);border-radius:5px;transition:all .3s ease-in-out}::-webkit-scrollbar-thumb:hover{background-color:var(--primary)}@media only screen and (max-width:740px){.hero{padding-top:40px}.headline-wrapper{flex-wrap:wrap}.headline-wrapper h2{margin-bottom:20px}.btn-social{margin-bottom:5px!important}}",""])},389:function(e,t,r){e.exports=r.p+"img/e06c17a.jpg"},390:function(e,t,r){"use strict";r.r(t);r(379),r(382);var o=r(384),n={data:function(){console.log("socket",this.$socket);return{socket:null,order_step:1,ordered:!1,qrCodeData:null,final_price:10,order:null,paypal_credentials:{sandbox:"ARytaJaq51tIosygQrzAvBhZcPSLd3YX6gn_kvGZN3uesBNSBcPi1VUgHQ7CrCG83onm7PQUHOATOxeH",production:"<production client id>"},experience:{input_fields:{no_shipping:1}},ruleForm:{email:"",first_name:"",last_name:"",address:"",zip_code:"",city:"",country:"de",amount:1,final_price:null},rules:{email:[{required:!0,message:"Bitte gib deinen E-Mail an.",trigger:"blur"},{type:"email",message:"Bitte gib eine korrekte E-Mail an.",trigger:"blur"}],first_name:[{required:!0,message:"Bitte gib deinen Vornamen an.",trigger:"blur"},{min:2,max:300,message:"Length should be 2 to 300",trigger:"blur"}],last_name:[{required:!0,message:"Bitte gib deinen Nachnamen an.",trigger:"blur"},{min:2,max:300,message:"Length should be 2 to 300",trigger:"blur"}],address:[{required:!0,message:"Bitte gib deine Adresse an.",trigger:"blur"},{min:2,max:300,message:"Length should be 2 to 300",trigger:"blur"}],zip_code:[{required:!0,message:"Bitte gib deine Postleitzahl an.",trigger:"blur"},{min:2,max:10,message:"Length should be 2 to 300",trigger:"blur"}],city:[{required:!0,message:"Bitte gib deine Stadt an.",trigger:"blur"},{min:2,max:300,message:"Length should be 2 to 300",trigger:"blur"}],amount:[{validator:function(e,t,r){if(!t)return r(new Error("Bitte gib an, wieviel Exemplare du möchtest."));setTimeout((function(){Number.isInteger(t)?t<0?r(new Error("Komm schon, die Zahl muss gößer als 0 sein :-)")):r():r(new Error("Bitte gibt eine Zahl ein."))}),200)},trigger:"blur"}]}}},created:function(){console.log("created()")},methods:{onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;console.log("submit!");var r=t;t.$axios.post("http://localhost:5000/api/orders",t.ruleForm).then((function(e){console.log(e),r.order_step=2,r.order=e.data,r.final_price=e.data.final_price})).catch((function(e){console.log("err"),console.log(e)}))}))},paymentAuthorized:function(data){console.log(data)},paymentCompleted:function(data){console.log(data),this.payWithPaypal(data),this.order_step=3},paymentCancelled:function(data){console.log(data)},payWithIota:function(){var e=this;this.$axios.post("http://localhost:5000/api/pay_with_iota?id=".concat(this.order._id),this.order).then((function(t){console.log(t),e.data=t.data,e.$socket.client.emit("storeClientInfo",{customId:t.data.payment.id});var r=o.TrinityPaymentQR.generatePaymentData(t.data.payment.address,t.data.payment.value,"EINFACHIOTA","");o.TrinityPaymentQR.renderHtml(r,"png",8).then((function(t){e.show=!1,e.qrCodeData=t,console.log("qr_code_data",t),console.log("qr_code_data",t.src)}))})).catch((function(t){console.log("CLG"),console.log(t),e.data.status="error"}))},payWithPaypal:function(e){var t=this;console.log("payWithPaypal",e),this.$axios.post("http://localhost:5000/api/pay_with_paypal?id=".concat(this.order._id),{payment:e}).then((function(e){console.log(e)})).catch((function(e){console.log("CLG"),console.log(e),t.data.status="error"}))}},sockets:{connect:function(){console.log("socket connected")},payments:function(){console.log("payments"),alert()},disconnect:function(){console.log("socket disconnect")}}},l=(r(385),r(41)),c={components:{Order:Object(l.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[1==e.order_step?r("div",[r("el-form",{ref:"ruleForm",staticClass:"demo-form-inline",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules}},[r("el-form-item",{attrs:{label:"Vorname",prop:"first_name"}},[r("el-input",{attrs:{disabled:"",placeholder:"Dein Vorname",required:"true"},model:{value:e.ruleForm.first_name,callback:function(t){e.$set(e.ruleForm,"first_name",t)},expression:"ruleForm.first_name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"Nachname",prop:"last_name"}},[r("el-input",{attrs:{disabled:"",placeholder:"Dein Nachname"},model:{value:e.ruleForm.last_name,callback:function(t){e.$set(e.ruleForm,"last_name",t)},expression:"ruleForm.last_name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"Adresse",prop:"address"}},[r("el-input",{attrs:{disabled:"",placeholder:"Deine Straße und Hausnummer"},model:{value:e.ruleForm.address,callback:function(t){e.$set(e.ruleForm,"address",t)},expression:"ruleForm.address"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"Postleitzahl",prop:"zip_code"}},[r("el-input",{attrs:{disabled:"",placeholder:"Deine Postleitzahl"},model:{value:e.ruleForm.zip_code,callback:function(t){e.$set(e.ruleForm,"zip_code",t)},expression:"ruleForm.zip_code"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"Stadt",prop:"city"}},[r("el-input",{attrs:{disabled:"",placeholder:"Deine Stadt"},model:{value:e.ruleForm.city,callback:function(t){e.$set(e.ruleForm,"city",t)},expression:"ruleForm.city"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"Land",prop:"country"}},[r("el-select",{attrs:{placeholder:"Wähle dein Land"},model:{value:e.ruleForm.country,callback:function(t){e.$set(e.ruleForm,"country",t)},expression:"ruleForm.country"}},[r("el-option",{attrs:{label:"Deutschland",value:"de"}}),e._v(" "),r("el-option",{attrs:{label:"Österreich",value:"ch"}}),e._v(" "),r("el-option",{attrs:{label:"Schweiz",value:"at"}}),e._v(" "),r("el-option",{attrs:{label:"Luxemburg",value:"lux"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"Anzahl",prop:"amount"}},[r("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.amount,callback:function(t){e.$set(e.ruleForm,"amount",e._n(t))},expression:"ruleForm.amount"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"E-Mail Addresse",prop:"email"}},[r("el-input",{attrs:{disabled:"",placeholder:"Deine E-Mail Addresse, falls bei der Lieferung etwas schief geht."},model:{value:e.ruleForm.email,callback:function(t){e.$set(e.ruleForm,"email",t)},expression:"ruleForm.email"}})],1),e._v(" "),r("div",{staticClass:"form-footer"},[r("div",{staticClass:"price"},[r("h3",[e._v(e._s(10*e.ruleForm.amount)+"€")]),e._v(" "),r("h5",[e._v("Summe")])]),e._v(" "),r("el-form-item",{staticClass:"submit-btn"},[r("el-button",{attrs:{disabled:"",type:"primary"},on:{click:function(t){return e.onSubmit("ruleForm")}}},[e._v("Bald Zahlungspflichtig bestellen")])],1)],1)],1)],1):e._e(),e._v(" "),2==e.order_step?r("div",[r("h3",[e._v("Wie willst du bezahlen?")]),e._v(" "),r("p",[e._v("Kosten: "+e._s(e.final_price))]),e._v(" "),r("paypal-checkout",{attrs:{amount:""+e.final_price,currency:"EUR",client:e.paypal_credentials,env:"sandbox","invoice-number":e.order._id,experience:e.experience},on:{"payment-authorized":e.paymentAuthorized,"payment-completed":e.paymentCompleted,"payment-cancelled":e.paymentCancelled}}),e._v(" "),r("el-button",{on:{click:e.payWithIota}},[e._v("Pay with IOTA")]),e._v(" "),e.qrCodeData?r("img",{attrs:{src:e.qrCodeData.src,alt:"QR CODE"}}):e._e()],1):e._e(),e._v(" "),3==e.order_step?r("div",[r("h3",[e._v("Danke für deinen Kauf")])]):e._e()])}),[],!1,null,null,null).exports}},d=(r(387),Object(l.a)(c,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"home"}},[t("div",{staticClass:"section section--light"},[t("div",{staticClass:"container"},[this._m(0),this._v(" "),t("div",{staticClass:"column box"},[t("h1",[this._v("Das erste IOTA Magazin")]),this._v(" "),t("p",[this._v("Jetzt bald die erste Ausgabe der eiMag online vorbestellen.")]),this._v(" "),t("Order")],1)])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"column image"},[t("div",{staticClass:"magazin-cover"})])}],!1,null,null,null));t.default=d.exports}}]);